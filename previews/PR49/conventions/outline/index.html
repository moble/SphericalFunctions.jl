<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Outline · SphericalFunctions.jl</title><meta name="title" content="Outline · SphericalFunctions.jl"/><meta property="og:title" content="Outline · SphericalFunctions.jl"/><meta property="twitter:title" content="Outline · SphericalFunctions.jl"/><meta name="description" content="Documentation for SphericalFunctions.jl."/><meta property="og:description" content="Documentation for SphericalFunctions.jl."/><meta property="twitter:description" content="Documentation for SphericalFunctions.jl."/><meta property="og:url" content="https://moble.github.io/SphericalFunctions.jl/stable/conventions/outline/"/><meta property="twitter:url" content="https://moble.github.io/SphericalFunctions.jl/stable/conventions/outline/"/><link rel="canonical" href="https://moble.github.io/SphericalFunctions.jl/stable/conventions/outline/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/citations.css" rel="stylesheet" type="text/css"/><link href="../../assets/extras.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SphericalFunctions.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><a class="tocitem" href="../../transformations/"><span>$s$</span>-SHT Transformations</a></li><li><a class="tocitem" href="../../wigner_matrices/">Wigner&#39;s <span>$𝔇$</span> and <span>$d$</span> matrices</a></li><li><a class="tocitem" href="../../sYlm/"><span>${}_{s}Y_{\ell,m}$</span> functions</a></li><li><a class="tocitem" href="../../operators/">Differential operators</a></li><li><a class="tocitem" href="../../utilities/">Utilities</a></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../../internal/">Internal functions</a></li><li><a class="tocitem" href="../../functions/">Complete function list</a></li></ul></li><li><span class="tocitem">Conventions</span><ul><li><a class="tocitem" href="../summary/">Summary</a></li><li><a class="tocitem" href="../details/">Details</a></li><li><a class="tocitem" href="../comparisons/">Comparisons</a></li><li><input class="collapse-toggle" id="menuitem-8-4" type="checkbox"/><label class="tocitem" for="menuitem-8-4"><span class="docs-label">Calculations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../literate_output/euler_angular_momentum/"><span>$L_j$</span> and <span>$R_j$</span> with Euler angles</a></li></ul></li></ul></li><li><span class="tocitem">Notes</span><ul><li><a class="tocitem" href="../../notes/H_recursions/">Algorithm for computing <span>$H$</span></a></li><li><a class="tocitem" href="../../notes/sampling_theorems/">Sampling theorems and transformations of spin-weighted spherical harmonics</a></li></ul></li><li><a class="tocitem" href="../../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Outline</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Outline</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/moble/SphericalFunctions.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/moble/SphericalFunctions.jl/blob/main/docs/src/conventions/outline.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Outline"><a class="docs-heading-anchor" href="#Outline">Outline</a><a id="Outline-1"></a><a class="docs-heading-anchor-permalink" href="#Outline" title="Permalink"></a></h1><ul><li>Three-dimensional Euclidean space<ul><li>Cartesian coordinates <span>$(x, y, z)$</span> =&gt; ℝ³</li><li>Cartesian basis vectors <span>$(𝐱, 𝐲, 𝐳,)$</span></li><li>Euclidean norm =&gt; Euclidean metric</li><li>Spherical coordinates<ul><li>Specifically give transformation to/from <span>$(x, y, z)$</span></li><li>Derive metric in these coordinates from transformation</li></ul></li><li>Integration / measure on two-sphere<ul><li>Derive as restriction of full metric, in both coordinate systems</li></ul></li></ul></li><li>Four-dimensional Euclidean space<ul><li>Eight-dimensional Clifford algebra over the tangent <em>vector space</em> <span>$Tℝ³$</span></li><li>Four-dimensional even sub-algebra =&gt; ℝ⁴</li><li>Coordinates <span>$(W, X, Y, Z)$</span></li><li>Basis vectors <span>$(𝟏, 𝐢, 𝐣, 𝐤)$</span>, but we usually just omit <span>$𝟏$</span><ul><li>Show a few essential formulas establishing the product and its conventions</li></ul></li><li>Unit quaternions are isomorphic to <span>$\mathbf{Spin}(3) = \mathbf{SU}(2)$</span>; double covers <span>$\mathbf{SO}(3)$</span><ul><li>Be explicit about the mapping between vector in ℝ³ and quaternions</li><li>Show how a unit quaternion can be used to rotate a vector</li></ul></li><li>Spherical coordinates (hyperspherical / Euler)<ul><li>Specifically give transformation to/from <span>$(W, X, Y, Z)$</span></li><li>Derive metric in these coordinates from transformation</li><li>Express unit quaternion in Euler angles</li></ul></li><li>Integration / measure / Haar measure on three-sphere<ul><li>Derive as restriction of full metric, in both coordinate systems</li></ul></li></ul></li><li>Angular momentum operators / functional analysis<ul><li>Express angular momentum operators in terms of quaternion components</li><li>Express angular momentum operators in terms of Euler angles</li><li>Show for both the three- and two-spheres</li><li>Show how they act on functions on the three-sphere</li></ul></li><li>Representation theory / harmonic analysis<ul><li>Representations show up in Fourier analysis on groups</li><li>Peter-Weyl theorem<ul><li>Generalizes Fourier analysis to compact groups</li><li>A basis of functions on the group is given by matrix elements of group representations</li></ul></li><li>Representation theory of <span>$\mathbf{Spin}(3)$</span><ul><li>Show how the Lie algebra is represented by the angular-momentum operators</li><li>Show how the Lie group is represented by the Wigner D-matrices</li><li>Demonstrate that <span>$\mathfrak{D}$</span> is a representation</li><li>Demonstrate its behavior under left and right rotation</li><li>Demonstrate orthonormality</li></ul></li><li>Representation theory of <span>$\mathbf{SO}(3)$</span><ul><li>There are several places in <a href="../../references/#Folland_2016">Folland</a> (e.g., above corollary 5.48) where he mentions that representations of a quotient group are just representations that are trivial (evidently meaning mapping everything to the identity matrix) on the factor.  I can&#39;t find anywhere that he explains this explicitly, but it seems easy enough to show.  He might do it using characters.</li><li>For <span>$\mathbf{Spin}(3)$</span> and <span>$\mathbf{SO}(3)$</span>, the factor group is just <span>$\{1, -1\}$</span>.  Presumably, every representation acting on <span>$1$</span> will give the identity matrix, so that&#39;s trivial.  So we just need a criterion for when a representation is trivial on <span>$-1$</span>.  Noting that <span>$\exp(\pi \vec{v}) = -1$</span> for any <span>$\vec{v}$</span>, I think we can show that this requires <span>$m \in \mathbb{Z}$</span>.</li><li>Basically, the point is that the representations of <span>$\mathbf{SO}(3)$</span> are just the integer representations of <span>$\mathbf{Spin}(3)$</span>.</li></ul></li><li>Restrict to homogeneous space (S³ -&gt; S²)<ul><li>The circle group is a closed (normal?) subgroup of <span>$\mathbf{Spin}(3)$</span>, which we might implement as initial multiplication about a particular axis.</li><li>In Eq. (2.47) <a href="../../references/#Folland_2016">Folland (2016)</a> defines a functional taking a function on the group to a function on the homogeneous space by integrating over the factor (the circle group).  This gives you the spherical harmonics, but <em>not</em> the spin-weighted spherical harmonics — because the spin-weighted spherical harmonics cannot be defined on the 2-sphere.</li><li>Spin weight comes from Fourier analysis on the subgroup.</li><li>Representation matrices transfer to the homogeneous space, with sparsity patterns</li></ul></li></ul></li></ul><h1 id="Notes"><a class="docs-heading-anchor" href="#Notes">Notes</a><a id="Notes-1"></a><a class="docs-heading-anchor-permalink" href="#Notes" title="Permalink"></a></h1><p>Spherical harmonics as functions on homogeneous space. https://www.youtube.com/watch?v=TnFvOa9v7do gives some nice discussion; maybe the paper has better references.</p><p>Theorem 2.16 of <a href="../../references/#HansonYakovlev_2002">Hanson-Yakovlev</a> says that an orthonormal basis of a product of <span>$L^2$</span> spaces is given by the product of the orthonormal bases of the individual spaces. Furthermore, on page 354, they point out that <span>$\{(1/\sqrt{2\pi}) e^{im\phi}\}$</span> is an orthonormal basis of <span>$L^2(0,2\pi)$</span>, while the set <span>$\{1/c_{n,m} P_n^m(\cos\theta)$</span> is an orthonormal basis of <span>$L^2(0, \pi)$</span> in the <span>$\theta$</span> coordinate.  Therefore, the product of these two sets is an orthonormal basis of the product space <span>$L^2\left((0,2\pi) \times (0, \pi)\right)$</span>, which forms a coordinate space for <span>$S^2$</span>.  I would probably modify this to point out that <span>$(0,2\pi)$</span> is really <span>$S^1$</span>, and then we could extend it to point out that you can throw on another factor of <span>$S^1$</span> to cover <span>$S^3$</span>, which happens to give us the Wigner D-matrices.</p><p>We first define the rotor that takes <span>$(\hat{x}, \hat{y}, \hat{z})$</span> onto <span>$(\hat{\theta}, \hat{\phi}, \hat{r})$</span>.  Then, we can invert that, so that given a rotor that specifies such a rotation exactly, we can get the spherical coordinates — or specifically <span>$\sin\theta$</span>, <span>$\cos\theta$</span>, and <span>$\exp(i\phi)$</span>.</p><p>Then, with the universally agreed-upon <span>$Y$</span> as given in terms of spherical coordinates, we can rewrite it directly to work with quaternion components, and then it immediately applies to general rotations, which allows us to figure out where the <span>$s$</span> should go. That is, we can essentially derive <span>${}_sY$</span> from the universal formula for <span>$Y$</span>.</p><p>Then, we can simply follow Wigner around Eq. (15.21) to derived a transformation law in the form</p><p class="math-container">\[{}_sY_{\ell,m&#39;}(R_{\theta&#39;, \phi&#39;}) = \sum_m M_{m&#39;,m}(R)
{}_sY_{\ell,m}(R_{\theta, \phi}),\]</p><p>for some matrix <span>$M$</span>.  Note that I have written this as if the <span>${}_sY$</span> functions are column vectors.  The reason this happens is because I want to write <span>$R_{\theta&#39;, \phi&#39;} = R\, R_{\theta, \phi}$</span>, rather than swapping the order of the rotations on the right-hand side.</p><p>The big problem here is that Wigner, in his Eq. (15.21) defines the transformation matrix as if the eigenfunctions formed a row vector instead of a column vector, which means that his matrix is transposed compared to what I want to write.  I suppose maybe other authors then just consider the inverse rotation, so that they can work with the conjugate transpose, which is why we see the relative conjugate.</p><ul><li>Since <span>$Y$</span> is universal, let&#39;s start with that as non-negotiable, and see if we can derive the relationship to <span>$\mathfrak{D}$</span>.</li><li><span>$R_{\theta, \phi}$</span> is a unit quaternion that rotates the point described by Cartesian coordinates (0,0,1) onto the point described by spherical coordinates <span>$(\theta, \phi)$</span>.</li><li>Just textually, it makes the most sense to write<p class="math-container">\[R_{\theta&#39;, \phi&#39;} = R\, R_{\theta, \phi}\]</p>for some rotation <span>$R$</span>.  Now, we just need to interpret <span>$R$</span>.</li><li>Again, just textually, it makes the most sense to write<p class="math-container">\[Y_{\ell,m&#39;}(\theta&#39;, \phi&#39;) = \sum_m \mathfrak{D}^{(\ell)}_{m&#39;,m}(R)
Y_{\ell,m}(\theta, \phi),\]</p>or, generalizing to spin-weighted spherical harmonics<p class="math-container">\[{}_{s}Y_{\ell,m&#39;}(R_{\theta&#39;, \phi&#39;}) = \sum_m \mathfrak{D}^{(\ell)}_{m&#39;,m}(R)
{}_{s}Y_{\ell,m}(R_{\theta, \phi}).\]</p></li><li>We also have that <span>$\mathfrak{D}$</span> obeys the representation property, so<p class="math-container">\[\mathfrak{D}^{(\ell)}_{m&#39;,m&#39;&#39;}(R_{\theta&#39;, \phi&#39;})
= \sum_{m} \mathfrak{D}^{(\ell)}_{m&#39;,m}(R)
\mathfrak{D}^{(\ell)}_{m,m&#39;&#39;}(R_{\theta, \phi}).\]</p><ul><li>There is no reason that I can see to introduce a conjugation</li><li>The fact that <span>$m&#39;&#39;$</span> appears on both sides of the equation means that it must correspond to <span>$s$</span> — though we have to check the behavior under final rotation to determine the sign.</li></ul></li></ul><p class="math-container">\[{}_{s}Y_{\ell,m}(R_{\theta, \phi})
\propto
\mathfrak{D}^{(\ell)}_{m,\propto s}(R_{\theta, \phi})\]</p><h2 id="collapsible-markdown?"><a class="docs-heading-anchor" href="#collapsible-markdown?">collapsible markdown?</a><a id="collapsible-markdown?-1"></a><a class="docs-heading-anchor-permalink" href="#collapsible-markdown?" title="Permalink"></a></h2><details><summary>CLICK ME</summary><h4 id="yes,-even-hidden-code-blocks!"><a class="docs-heading-anchor" href="#yes,-even-hidden-code-blocks!">yes, even hidden code blocks!</a><a id="yes,-even-hidden-code-blocks!-1"></a><a class="docs-heading-anchor-permalink" href="#yes,-even-hidden-code-blocks!" title="Permalink"></a></h4><pre><code class="language-julia hljs">println(&quot;hello world!&quot;)</code></pre></details><h1 id="More-notes"><a class="docs-heading-anchor" href="#More-notes">More notes</a><a id="More-notes-1"></a><a class="docs-heading-anchor-permalink" href="#More-notes" title="Permalink"></a></h1><h2 id="Spherical-harmonics"><a class="docs-heading-anchor" href="#Spherical-harmonics">Spherical harmonics</a><a id="Spherical-harmonics-1"></a><a class="docs-heading-anchor-permalink" href="#Spherical-harmonics" title="Permalink"></a></h2><p>Fortunately, there does not seem to be any disagreement in the physics literature about the definition of the spherical harmonics; everyone uses the Condon-Shortley convention.  Or at least, they say they do. The problem arises when people define the spherical harmonics in terms of the Legendre polynomials, for which there is a sign ambiguity. Therefore, to ensure that we are using the same conventions, we need to go back to the original definition of the spherical harmonics by Condon and Shortley.</p><h3 id="Condon-Shortley-phase"><a class="docs-heading-anchor" href="#Condon-Shortley-phase">Condon-Shortley phase</a><a id="Condon-Shortley-phase-1"></a><a class="docs-heading-anchor-permalink" href="#Condon-Shortley-phase" title="Permalink"></a></h3><p>The <a href="../../references/#CondonShortley_1935">Condon-Shortley</a> phase convention is a choice of phase factors in the definition of the spherical harmonics that requires the coefficients in</p><p class="math-container">\[L_{\pm} |\ell,m\rangle = \alpha^{\pm}_{\ell,m} |\ell, m \pm 1\rangle\]</p><p>to be real and positive.  The reasoning behind this choice is explained more fully in Section 2 of <a href="../../references/#UffordShortley_1932">Ufford and Shortley (1932)</a>.  As a more practical matter, the Condon-Shortley phase describes signs chosen in the expression for spherical harmonics.  The key expression is Eq. (15) of section 4³ (page 52) of <a href="../../references/#CondonShortley_1935">Condon-Shortley</a>:</p><p class="math-container">\[\Theta(\ell, m) = (-1)^\ell \sqrt{\frac{2\ell+1}{2} \frac{(\ell+m)!}{(\ell-m)!}}
\frac{1}{2^\ell \ell!} \frac{1}{\sin^m\theta}
\frac{d^{\ell-m}}{d(\cos\theta)^{\ell-m}} \sin^{2\ell}\theta.\]</p><p>When multiplied by Eq. (5) <span>$\Phi(m) = e^{im\phi} / \sqrt{2\pi}$</span>, this gives the spherical harmonic function.  The right-hand side of the expression above is usually immediately replaced by a simpler expression using Legendre polynomials, but this just shifts sign ambiguity into the definition of the Legendre polynomials.  Instead, we can expand the above expression directly for the first few <span>$\ell$</span> values and/or use automatic differentiation to actually test their original expression as such against the function implemented in this package.  The first few values are given in a footnote to Condon and Shortley&#39;s Eq. (15) (and have been verified separately by hand and by computation with SymPy):</p><p class="math-container">\[\begin{aligned}
\Theta(0,0) &amp;= \sqrt{\frac{1}{2}} \\
\Theta(1,0) &amp;= \sqrt{\frac{3}{2}} \cos\theta &amp;
\Theta(1,\pm1) &amp;= \mp \sqrt{\frac{3}{4}} \sin\theta \\
\Theta(2,0) &amp;= \sqrt{\frac{5}{8}} (2\cos^2\theta - \sin^2\theta) &amp;
\Theta(2,\pm1) &amp;= \mp \sqrt{\frac{15}{4}} \cos\theta \sin\theta &amp;
\Theta(2,\pm2) &amp;= \sqrt{\frac{15}{16}} \sin^2\theta \\
\Theta(3,0) &amp;= \sqrt{\frac{7}{8}} (2\cos^3\theta - 3\cos\theta\sin^2\theta) &amp;
\Theta(3,\pm1) &amp;= \mp \sqrt{\frac{21}{32}} (4\cos^2\theta\sin\theta - \sin^3\theta) &amp;
\Theta(3,\pm2) &amp;= \sqrt{\frac{105}{16}} \cos\theta \sin^2\theta &amp;
\Theta(3,\pm3) &amp;= \mp \sqrt{\frac{35}{32}} \sin^3\theta
\end{aligned}\]</p><p>These are tested, along with the results from automatic differentiation, every time this package is updated.  The result is perfect agreement, so that we can definitively say that ***the spherical-harmonic functions provided by this package obey the Condon-Shortley phase convention.***</p><h2 id="Angular-momentum-operators"><a class="docs-heading-anchor" href="#Angular-momentum-operators">Angular-momentum operators</a><a id="Angular-momentum-operators-1"></a><a class="docs-heading-anchor-permalink" href="#Angular-momentum-operators" title="Permalink"></a></h2><ul><li>First, a couple points about <span>$-i\hbar$</span>:<ul><li>The finite transformations look like <span>$\exp[-i \theta L_j]$</span>, but the factor of <span>$i$</span> introduced here just cancels the one in the <span>$L_j$</span>, and the sign is just chosen to make the result consistent with our notion of active or passive transformations.</li><li>Any factors of <span>$\hbar$</span> are included <em>purely</em> for the sake of  convenience.</li><li>The factor <span>$i$</span> comes from plain functional analysis: We need a self-adjoint operator, and <span>$\partial_x$</span> by itself is anti-self-adjoint (as can be verified by evaluating on <span>$\langle x&#39; | x \rangle = \delta(x-x&#39;)$</span>, which switches sign based on which is being differentiated).  We want self-adjoint operators so that we get purely real eigenvalues.  <a href="../../references/#vanNeerven_2022">Van Neerven</a> cites this in a more rigorous context in his Example (10.40) (page 331), with more explanation around Eq. (15.17) (page 592).  The &quot;self-adjoint <span>$\iff$</span> real eigenvalues&quot; condition is item (1) in his Corollary 9.18.</li></ul></li></ul><p>Wigner&#39;s <span>$𝔇$</span> matrices are defined as matrix elements of a rotation in the basis of spherical harmonics.  That rotation is defined in terms of the generators of rotation, which are expressed in terms of the angular-momentum operators.  Therefore, to really understand conventions for the <span>$𝔇$</span> matrices, we need to understand conventions for the angular-momentum operators.</p><p>There is universal agreement that the angular momentum is defined as <span>$\mathbf{L} = \mathbf{x} \times \mathbf{p}$</span>, where <span>$\mathbf{x}$</span> is the position vector and <span>$\mathbf{p}$</span> is the momentum vector.  In quantum mechanics, there is further agreement that the momentum operator becomes <span>$-i\hbar\nabla$</span>.  Thus, in operator form, the angular momentum can be decomposed as</p><p class="math-container">\[\begin{aligned}
L_x &amp;= -i\hbar \left( y \frac{\partial}{\partial z} - z \frac{\partial}{\partial y} \right), \\
L_y &amp;= -i\hbar \left( z \frac{\partial}{\partial x} - x \frac{\partial}{\partial z} \right), \\
L_z &amp;= -i\hbar \left( x \frac{\partial}{\partial y} - y \frac{\partial}{\partial x} \right).
\end{aligned}\]</p><p>We can transform these to use spherical coordinates and obtain</p><p class="math-container">\[\begin{aligned}
L_x &amp;= -i\hbar \left( \sin\phi \frac{\partial}{\partial\theta} + \cot\theta \cos\phi \frac{\partial}{\partial\phi} \right), \\
L_y &amp;= -i\hbar \left( \cos\phi \frac{\partial}{\partial\theta} - \cot\theta \sin\phi \frac{\partial}{\partial\phi} \right), \\
L_z &amp;= -i\hbar \frac{\partial}{\partial\phi}.
\end{aligned}\]</p><p>The conventions we choose <em>must</em> be chosen to agree with these — modulo factors of <span>$\hbar$</span>, which are nonstandard in mathematics.  We will have to check this, and the Condon-Shortley requirement that when applied to spherical harmonics they produce real and positive coefficients.</p><p>I defined these in Eqs. (42) and (43) of <a href="../../references/#Boyle_2016">Boyle (2016)</a> as</p><p class="math-container">\[\begin{aligned}
L_{j} f(\mathbf{R}) &amp;\colonequals -z \left. \frac{\partial}{\partial \theta}
f\left(e^{\theta \mathbf{e}_j / 2} \mathbf{R} \right) \right|_{\theta=0}, \\
K_{j} f(\mathbf{R}) &amp;\colonequals -z \left. \frac{\partial}{\partial \theta}
f\left(\mathbf{R} e^{\theta \mathbf{e}_j / 2}\right) \right|_{\theta=0},
\end{aligned}\]</p><p>where <span>$\mathbf{e}_j$</span> is the unit vector in the <span>$j$</span> direction. Surprisingly, I found that <a href="../../references/#Edmonds_2016">Edmonds</a> expresses essentially the same thing in the equations following his Eq. (4.1.5).</p><p>Condon and Shortley&#39;s Eq. (1) of section 4³ (page 50) defines</p><p class="math-container">\[L_z = -i \hbar \frac{\partial}{\partial \phi},\]</p><p>while Eq. (8) on the following page defines</p><p class="math-container">\[\begin{aligned}
L_x + i L_y &amp;= \hbar e^{i\phi} \left( \frac{\partial}{\partial \theta} + i \cot\theta \frac{\partial}{\partial \phi} \right), \\
L_x - i L_y &amp;= \hbar e^{-i\phi} \left(-\frac{\partial}{\partial \theta} + i \cot\theta \frac{\partial}{\partial \phi} \right).
\end{aligned}\]</p><p>Note that one is not the conjugate of the other!  This is because of the factors of <span>$-i$</span> in the definitions of <span>$L_x$</span> and <span>$L_y$</span>.</p><p><a href="../../references/#Edmonds_2016">Edmonds</a> gives the <em>total</em> angular-momentum operator for a rigid body in Eq. (2.2.2) as</p><p class="math-container">\[\begin{aligned}
L_x &amp;= -i\hbar \left(-\cos \alpha \cot\beta \frac{\partial}{\partial\alpha} - \sin\alpha \frac{\partial}{\partial\beta} + \frac{\cos\alpha}{\sin\beta} \frac{\partial}{\partial\gamma} \right), \\
L_y &amp;= -i\hbar \left(-\sin\alpha \cot\beta \frac{\partial}{\partial \alpha} + \cos\alpha \frac{\partial}{\partial\beta} + \frac{\sin\alpha}{\sin\beta} \frac{\partial}{\partial\gamma} \right), \\
L_z &amp;= -i\hbar \frac{\partial}{\partial\alpha}.
\end{aligned}\]</p><h2 id="Wigner-𝔇-and-d-matrices"><a class="docs-heading-anchor" href="#Wigner-𝔇-and-d-matrices">Wigner <span>$𝔇$</span> and <span>$d$</span> matrices</a><a id="Wigner-𝔇-and-d-matrices-1"></a><a class="docs-heading-anchor-permalink" href="#Wigner-𝔇-and-d-matrices" title="Permalink"></a></h2><p>Wigner&#39;s Eqs. (11.18) and (11.19) define the real orthogonal transformation <span>$\mathbf{R}$</span> by</p><p class="math-container">\[x&#39;_i = R_{ij} x_j\]</p><p>and the operator <span>$\mathbf{P}_{\mathbf{R}}$</span> to act on a function <span>$f$</span> such that</p><p class="math-container">\[\mathbf{P}_{\mathbf{R}} f(x&#39;_1, \ldots) = f(x_1, \ldots).\]</p><p>Then, his Eq. (15.5) presumably implies</p><p class="math-container">\[Y_{\ell,m}(\vartheta&#39;, \varphi&#39;)
= \mathbf{P}_{\{\alpha, \beta, \gamma\}} Y_{\ell,m}(\vartheta, \varphi)
= \sum_{m&#39;} \mathfrak{D}^{(\ell)}(\{\alpha, \beta, \gamma\})_{m&#39;,m}
  Y_{\ell,m&#39;}(\vartheta, \varphi),\]</p><p>where <span>$\{\alpha, \beta, \gamma\}$</span> takes <span>$(\vartheta, \varphi)$</span> to <span>$(\vartheta&#39;, \varphi&#39;)$</span>.  In any case, we can now leave behind this <span>$\mathbf{P}$</span> notation and just look at the beginning and end of the equation above as the critical relationship in Wigner&#39;s notation.</p><p>Eq. (44b) of <a href="../../references/#Boyle_2016">Boyle (2016)</a> says</p><p class="math-container">\[L_{\pm} \mathfrak{D}^{(\ell)}_{m&#39;,m}(\mathbf{R})
= \sqrt{(\ell \mp m&#39;)(\ell \pm m&#39; + 1)} \mathfrak{D}^{(\ell)}_{m&#39; \pm 1, m}(\mathbf{R}).\]</p><p>while Eq. (21) relates the Wigner D-matrix to the spin-weighted spherical harmonics as</p><p class="math-container">\[{}_{s}Y_{\ell,m}(\mathbf{R})
= (-1)^s \sqrt{\frac{2\ell+1}{4\pi}} \mathfrak{D}^{(\ell)}_{m,-s}(\mathbf{R}).\]</p><p>Plugging the latter into the former, we get</p><p class="math-container">\[L_{\pm} {}_{s}Y_{\ell,m}(\mathbf{R})
= \sqrt{(\ell \mp m)(\ell \pm m + 1)} {}_{s}Y_{\ell,m \pm 1}(\mathbf{R}).\]</p><p>That is, in our conventions we have</p><p class="math-container">\[\alpha^{\pm}_{\ell,m} = \sqrt{(\ell \mp m)(\ell \pm m + 1)},\]</p><p>which is always real and positive, and thus consistent with the Condon-Shortley phase convention.</p><h3 id="Properties"><a class="docs-heading-anchor" href="#Properties">Properties</a><a id="Properties-1"></a><a class="docs-heading-anchor-permalink" href="#Properties" title="Permalink"></a></h3><ul><li><span>$D^j_{m&#39;m}(\alpha,\beta,\gamma) = (-1)^{m&#39;-m} D^j_{-m&#39;,-m}(\alpha,\beta,\gamma)^*$</span></li><li><span>$(-1)^{m&#39;-m}D^{j}_{mm&#39;}(\alpha,\beta,\gamma)=D^{j}_{m&#39;m}(\gamma,\beta,\alpha)$</span></li><li><span>$d_{m&#39;,m}^{j}=(-1)^{m-m&#39;}d_{m,m&#39;}^{j}=d_{-m,-m&#39;}^{j}$</span></li></ul><p class="math-container">\[\begin{aligned}
d_{m&#39;,m}^{j}(\pi)        &amp;= (-1)^{j-m}  \delta_{m&#39;,-m} \\[6pt]
d_{m&#39;,m}^{j}(\pi-\beta)  &amp;= (-1)^{j+m&#39;}  d_{m&#39;,-m}^{j}(\beta)\\[6pt]
d_{m&#39;,m}^{j}(\pi+\beta)  &amp;= (-1)^{j-m}  d_{m&#39;,-m}^{j}(\beta)\\[6pt]
d_{m&#39;,m}^{j}(2\pi+\beta) &amp;= (-1)^{2j}    d_{m&#39;,m}^{j}(\beta)\\[6pt]
d_{m&#39;,m}^{j}(-\beta)     &amp;= d_{m,m&#39;}^{j}(\beta) = (-1)^{m&#39;-m} d_{m&#39;,m}^{j}(\beta)
\end{aligned}\]</p><p class="math-container">\[\begin{gather}
R = \cos\epsilon + \sin\epsilon\, \hat{\mathfrak{r}} \\
R𝐯 = \cos\epsilon 𝐯 + \sin\epsilon\, \hat{\mathfrak{r}}𝐯 \\
R𝐯R^{-1} = (𝐯\cos\epsilon + \sin\epsilon\, \hat{\mathfrak{r}}𝐯)(\cos\epsilon - \sin\epsilon\, \hat{\mathfrak{r}}) \\
R𝐯R^{-1} = 𝐯\cos^2\epsilon + \sin^2\epsilon\, \hat{\mathfrak{r}}𝐯\hat{\mathfrak{r}}^{-1} + \sin\epsilon \cos\epsilon\, (\hat{\mathfrak{r}}𝐯 - 𝐯\hat{\mathfrak{r}}) \\
R𝐯R^{-1} = \begin{cases}
𝐯 &amp; 𝐯 \hat{\mathfrak{r}} = \hat{\mathfrak{r}}𝐯 \\
𝐯(\cos^2\epsilon - \sin^2\epsilon) + 2 \sin\epsilon \cos\epsilon\, \frac{[\hat{\mathfrak{r}}, 𝐯]}{2} &amp; 𝐯 \hat{\mathfrak{r}} = -\hat{\mathfrak{r}}𝐯 \\
\end{cases} \\
R𝐯R^{-1} = \begin{cases}
𝐯 &amp; 𝐯 \hat{\mathfrak{r}} = \hat{\mathfrak{r}}𝐯 \\
\cos2\epsilon 𝐯 + \sin2\epsilon \frac{[\hat{\mathfrak{r}}, 𝐯]}{2} &amp; 𝐯 \hat{\mathfrak{r}} = -\hat{\mathfrak{r}}𝐯 \\
\end{cases} \\
\end{gather}\]</p><p>Using techniques from geometric algebra, we can easily prove that the result is another vector, so we can measure its (squared) norm just by multiplying it by itself:</p><p class="math-container">\[\begin{aligned}
\| 𝐑\, 𝐯\, 𝐑^{-1} \|^2
&amp;= 𝐑\, 𝐯\, 𝐑^{-1}\, 𝐑\, 𝐯\, 𝐑^{-1} \\
&amp;= 𝐑\, 𝐯\, 𝐯\, 𝐑^{-1} \\
&amp;= \|𝐯\|^2\, 𝐑\, 𝐑^{-1} \\
&amp;= \|𝐯\|^2
\end{aligned}\]</p><p>That is, <span>$𝐯&#39; = 𝐑\, 𝐯\, 𝐑^{-1}$</span> has the same norm as <span>$𝐯$</span>, which means that <span>$𝐯&#39;$</span> is a rotation of <span>$𝐯$</span>.  Given the constraint on the norm of <span>$𝐑$</span>, we can rewrite it as</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Monday 10 February 2025 19:07">Monday 10 February 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
